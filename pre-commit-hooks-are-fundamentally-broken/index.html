<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>pre-commit hooks are fundamentally broken</title>
    
    <meta name="description" content="use pre-push hooks instead">
    
    <meta name="author" content="jyn">

    <link rel="alternate" type="application/atom+xml" title="the website of jyn" href="/atom.xml">
    <link rel="icon" type="image/x-icon" href="https://jyn.dev/favicon.jpg">
    <script src="/main.js?v=cshxqZNByYq&#x2F;QgS1UUzDewC9wa2LxgEbbhhyltch5DBSF7yvV+h0vYmB0KrhfQjY" defer></script>
    <link rel="stylesheet" href="https://jyn.dev/minima.css?v=7OannKi8WSigcMMmIJC3r8u0QjFzHN&#x2F;8YbHyvSXfBf9SM1wuge9+cUh&#x2F;cMs&#x2F;K&#x2F;3j">
</head>
<body>
      <header class="site-header" role="banner">

      <div class="wrapper">
        <a class="site-title" href="/">the website of jyn</a>

        
        
          <nav class="site-nav">
            <input type="checkbox" id="nav-trigger" class="nav-trigger" />
            <label for="nav-trigger">
              <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                  <title>menu</title>
                  <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                  <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                  <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
              </span>
            </label>

            <div class="trigger">
              
                
                
                <a class="page-link" href="&#x2F;about&#x2F;">about</a>
                
              
                
                
                <a class="page-link" href="&#x2F;liberating&#x2F;">computers should be liberating</a>
                
              
                
                
                <a class="page-link" href="&#x2F;talks&#x2F;">talks</a>
                
              
                
                
              
                <a class="page-link" href="/computer-of-the-future">the computer of the next 200 years</a>
                <!-- <a class="page-link" href="/four-posts-about-build-systems">four posts about build systems</a> -->
            </div>
          </nav>
        
      </div>
    </header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
		<h1 title="use pre-push hooks instead" class="post-title" itemprop="name headline">pre-commit hooks are fundamentally broken</h1>
    <p class="post-meta">
      <time datetime="2025-12-26" itemprop="datePublished">
        2025-12-26
      </time>
      
      
      
        
        
      • <a href="https://jyn.dev/tags/git/">git</a>
        
      • <a href="https://jyn.dev/tags/workflows/">workflows</a>
        
      • <a href="https://jyn.dev/tags/devtools/">devtools</a>
        
      
    </p>
  </header>

  

	

  
    

  <div class="post-content" itemprop="articleBody">
    <p>Let's start a new Rust project.</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mkdir</span></span><span class="z-meta z-function-call z-arguments z-shell"> best-fizzbuzz-ever</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> best-fizzbuzz-ever</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cat</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;&lt;</span> <span class="z-keyword z-control z-heredoc-token z-shell">EOF</span></span> <span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> main.rs</span><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">fn main() { for i in 0.. {
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">    println (&quot;fizzbuzz&quot;);
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">}}
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span></span></span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> init</span>
</span><span class="z-source z-shell z-console">Initialized empty Git repository in /home/jyn/src/third-website/best-fizzbuzz-ever/.git/
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> add main.rs</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> fizzbuzz</span>
</span><span class="z-source z-shell z-console">[main (root-commit) 661dc28] fizzbuzz
</span><span class="z-source z-shell z-console"> 1 file changed, 4 insertions(+)
</span><span class="z-source z-shell z-console"> create mode 100644 main.rs
</span></code></pre>
<p>Neat. Now let's say I add this to some list of fizzbuzz projects in different languages.
Maybe .... <a href="https://github.com/joshkunz/fizzbuzz">this one</a>.
They tell me I need to have "proper formatting" and "use consistent style".
How rude.</p>
<p>Maybe I can write a pre-commit hook that checks that for me?</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cat</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;&lt;</span> <span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span><span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> <span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> pre-commit</span><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">#!/bin/sh
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">set -eu
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">for f in *.rs; do
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">  rustfmt --check &quot;$f&quot;
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">done
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span></span></span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">chmod</span></span><span class="z-meta z-function-call z-arguments z-shell"> +x pre-commit</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ln</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>s</span> ../../pre-commit .git/hooks/pre-commit</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> add pre-commit</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>add pre-commit hook<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">Diff in /home/jyn/src/third-website/best-fizzbuzz-ever/src/main.rs:1:
</span><span class="z-source z-shell z-console">-fn main() { for i in 0.. {
</span><span class="z-source z-shell z-console">-    println (&quot;fizzbuzz&quot;);
</span><span class="z-source z-shell z-console">-}}
</span><span class="z-source z-shell z-console">+fn main() {
</span><span class="z-source z-shell z-console">+    for i in 0.. {
</span><span class="z-source z-shell z-console">+        println(&quot;fizzbuzz&quot;);
</span><span class="z-source z-shell z-console">+    }
</span><span class="z-source z-shell z-console">+}
</span></code></pre>
<p>Neat! Let's commit that change.</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">rustfmt</span></span><span class="z-meta z-function-call z-arguments z-shell"> main.rs</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>add pre-commit hook<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">[main 3be7b87] add pre-commit hook
</span><span class="z-source z-shell z-console"> 1 file changed, 4 insertions(+)
</span><span class="z-source z-shell z-console"> create mode 100755 pre-commit
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> status</span>
</span><span class="z-source z-shell z-console">On branch main
</span><span class="z-source z-shell z-console">Changes not staged for commit:
</span><span class="z-source z-shell z-console">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
</span><span class="z-source z-shell z-console">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
</span><span class="z-source z-shell z-console">	modified:   main.rs
</span></code></pre>
<p>Oh ... We fixed the formatting, but we didn't actually stage the changes.
The pre-commit hook runs on the <em>working tree</em>, not on the <em>index</em>, so it didn't catch the issue.
We can see that the version tracked by git still has the wrong formatting:</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> show HEAD:main.rs</span>
</span><span class="z-source z-shell z-console">fn main() { for i in 0.. {
</span><span class="z-source z-shell z-console">    println (&quot;fizzbuzz&quot;);
</span><span class="z-source z-shell z-console">}}
</span></code></pre>
<p>Maybe we can make the script smarter?
Let's checkout all the files in the index into a temporary directory and run our pre-commit hook there. <sup class="footnote-reference" id="fr-4-1"><a href="#fn-4">1</a></sup></p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cat</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;&lt;</span> <span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span><span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> <span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> pre-commit</span><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">#!/bin/sh
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">set -eu
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">tmpdir=$(mktemp -d --tmpdir &quot;$(basename &quot;$(realpath .)&quot;)-pre-commit.XXXX&quot;)
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">trap &#39;rm -r &quot;$tmpdir&quot;&#39; EXIT
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">git checkout-index --all --prefix=&quot;$tmpdir/&quot;
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">for f in $tmpdir/*.rs; do
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">  rustfmt --check &quot;$f&quot;
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">done
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span></span></span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> add pre-commit</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>make pre-commit hook smarter<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">Diff in /tmp/best-fizzbuzz-ever-pre-commit.ZNyw/main.rs:1:
</span><span class="z-source z-shell z-console">-fn main() { for i in 0.. {
</span><span class="z-source z-shell z-console">-    println (&quot;fizzbuzz&quot;);
</span><span class="z-source z-shell z-console">-}}
</span><span class="z-source z-shell z-console">+fn main() {
</span><span class="z-source z-shell z-console">+    for i in 0.. {
</span><span class="z-source z-shell z-console">+        println(&quot;fizzbuzz&quot;);
</span><span class="z-source z-shell z-console">+    }
</span><span class="z-source z-shell z-console">+}
</span><span class="z-source z-shell z-console">
</span></code></pre>
<p>Yay! That caught the issue.
Now let's add our rust program to that collection of fizzbuzz programs.</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> add main.rs</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>make pre-commit hook smarter<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">[main 3cb40f6] make pre-commit hook smarter
</span><span class="z-source z-shell z-console"> 2 files changed, 11 insertions(+), 4 deletions(-)
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> remote add upstream https://github.com/joshkunz/fizzbuzz</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> fetch upstream</span>
</span><span class="z-source z-shell z-console">remote: Enumerating objects: 222, done.
</span><span class="z-source z-shell z-console">remote: Total 222 (delta 0), reused 0 (delta 0), pack-reused 222 (from 1)
</span><span class="z-source z-shell z-console">Receiving objects: 100% (222/222), 29.08 KiB | 29.08 MiB/s, done.
</span><span class="z-source z-shell z-console">Resolving deltas: 100% (117/117), done.
</span><span class="z-source z-shell z-console">From https://github.com/joshkunz/fizzbuzz
</span><span class="z-source z-shell z-console"> * [new branch]      master     -&gt; upstream/master
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> rebase upstream</span>
</span><span class="z-source z-shell z-console">Successfully rebased and updated refs/heads/main.
</span></code></pre>
<p>Maybe we'll make one last tweak...</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sed</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>i</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>1i // Written by jyn<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> main.rs</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit main.rs<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>mark who wrote fizzbuzz<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">Diff in /tmp/best-fizzbuzz-ever-pre-commit.n1Pj/fizzbuzz-traits.rs:4:
</span><span class="z-source z-shell z-console"> use std::iter;
</span><span class="z-source z-shell z-console">
</span><span class="z-source z-shell z-console"> struct FizzBuzz {
</span><span class="z-source z-shell z-console">-    from : i32
</span><span class="z-source z-shell z-console">-  , to : i32
</span><span class="z-source z-shell z-console">+    from: i32,
</span><span class="z-source z-shell z-console">+    to: i32,
</span><span class="z-source z-shell z-console"> }
</span><span class="z-source z-shell z-console">
</span><span class="z-source z-shell z-console"> impl FizzBuzz {
</span></code></pre>
<p>Uh. Huh. Right.
The code that was already here wasn't formatted according to rustfmt.
Our script is running on every file in the git repo, so it won't let us commit.</p>
<p>Maybe we can change it to only run on modified files?</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cat</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;&lt;</span> <span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span><span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> <span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> pre-commit</span><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">#!/bin/sh
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">set -eu
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">files=$(git diff --name-only --cached --no-ext-diff --diff-filter=d)
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">tmpdir=$(mktemp -d --tmpdir &quot;$(basename &quot;$(realpath .)&quot;)-pre-commit.XXXX&quot;)
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">trap &#39;rm -r &quot;$tmpdir&quot;&#39; EXIT
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">printf %s &quot;$files&quot; | tr &#39;\n&#39; &#39;\0&#39; | xargs -0 git checkout-index --prefix=&quot;$tmpdir/&quot;
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">for f in $tmpdir/*.rs; do
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">  rustfmt --check &quot;$f&quot;
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell">done
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-string z-unquoted z-heredoc z-shell"><span class="z-keyword z-control z-heredoc-token z-shell">EOF</span></span></span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit main.rs pre-commit <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-console"><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell">  --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>update main.rs; make pre-commit even smarter<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">[main f2925bc] update main.rs; make pre-commit even smarter
</span><span class="z-source z-shell z-console"> 2 files changed, 5 insertions(+), 1 deletion(-)
</span></code></pre>
<p>Alright. Cool.</p>
<p>Let's do one last thing.
Let's say we had an existing PR to this repo and we need to rebase it.
Maybe it had a merge conflict, or maybe there was a fix on main that we need in order to implement our solution.</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> checkout upstream/HEAD  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Simulate an old PR by checking out an old commit</span></span>
</span><span class="z-source z-shell z-console">HEAD is now at 56bf3ab Adds E to the README
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-support z-function z-echo z-shell">echo</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>fn main() { println!(&quot;this counts as fizzbuzz, right?&quot;); }<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> <span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print.rs</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> add print.rs</span>
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> commit<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>message</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Add print.rs<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span><span class="z-source z-shell z-console">[detached HEAD 3d1bbf7] Add print.rs
</span><span class="z-source z-shell z-console"> 1 file changed, 1 insertion(+)
</span><span class="z-source z-shell z-console"> create mode 100644 print.rs
</span></code></pre>
<p>And let's also say that we want to edit the commit message.</p>
<pre data-lang="console" class="language-console z-code"><code class="language-console" data-lang="console"><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">$</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> rebase<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>i</span> main  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Rebase this whole branch over our main branch</span></span>
</span><span class="z-source z-shell z-console">reword 3d1bbf7 Add print.rs
</span><span class="z-source z-shell z-console"><span class="z-keyword z-operator z-assignment z-redirection z-process z-shell">#</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Rebase</span></span><span class="z-meta z-function-call z-arguments z-shell"> f2925bc..3d1bbf7 onto f2925bc (1 command</span><span class="z-meta z-function-call z-shell"></span>)
</span></code></pre>
<h2 id="now-we-really-have-a-problem">Now, we <em>really</em> have a problem.<a class="zola-anchor" href="#now-we-really-have-a-problem" aria-label="Anchor link for: now-we-really-have-a-problem"></a>
</h2>
<pre class="z-code"><code><span class="z-text z-plain">Error: file `/tmp/best-fizzbuzz-ever-pre-commit.p3az/*.rs` does not exist
</span><span class="z-text z-plain">Could not apply 3d1bbf7... Add print.rs
</span></code></pre>
<p>Two things went wrong here:</p>
<ol>
<li>Our pre-commit hook can't handle commits that don't have any Rust files.</li>
<li>Our pre-commit hook <em>ran on a branch we were rebasing</em>. <sup class="footnote-reference" id="fr-2-1"><a href="#fn-2">2</a></sup></li>
</ol>
<p>Fixing the first thing doesn't really help us, because we don't control other people's branches.
They might have used <code>git commit --no-verify</code>.
They might not even have a pre-commit hook installed.
They might have had a branch that passed the hook when they originally wrote it, but not after a rebase (e.g. if your hook is <code>cargo check</code> or something like that).
They might have had a branch that used an old version of the hook that didn't have as many checks as a later version.</p>
<p>Our only real choice here is to pass <code>--no-verify</code> to <code>git rebase</code> every time we run it, and to <code>git commit</code> for every commit in the rebase we modify,
and possibly even to every <code>git merge</code> we run outside of a rebase.</p>
<p>This is because pre-commit hooks are a <em>fundamentally broken idea</em>.
Code does not exist in isolation.
Commits that are local to a developer machine do not ever go through CI.
Commits don't even necessarily mean that that the code is ready to publish—pre-commit hooks don't run on <code>git stash</code> for a reason!
I don't use <code>git stash</code>, I use <code>git commit</code> so that my stashes are tied to a branch, and hooks completely break this workflow.</p>
<p>More than that, pre-commit hooks are <em>preventing you from saving your work</em>.
There should be a <em>really, really good reason</em> to prevent you from saving your work, and IMO "doesn't pass the test suite" is not that.
I have similar feelings about format-on-save hooks.</p>
<p>There are a <a href="https://blog.plover.com/prog/git/hook-disaster.html">bunch</a>
of <a href="https://dev.to/afl_ext/are-pre-commit-git-hooks-a-good-idea-i-dont-think-so-38j6">other</a> <a href="https://github.com/rust-lang/rust/issues/77620">footguns</a> with pre-commit hooks.
This doesn't even count the fact that nearly all pre-commit hooks are implemented in a broken way and just blindly run on the worktree, and are slow or unreliable or both.
Don't get me started on pre-commit hooks that try to add things to the commit you're about to make, or projects that try to automatically install a hook when you run the test suite.</p>
<aside role=note class=note-container><div class=note-content>
<p>The <a href="https://pre-commit.com/"><code>pre-commit</code></a> framework (or its cousin, <a href="https://github.com/lint-staged/lint-staged">lint-staged</a>) does <em>not</em> fix this.
It fixes the issues about running on the index by stashing your changes with
<a href="https://git-scm.com/docs/git-stash#Documentation/git-stash.txt---keep-index"><code>--keep-index</code></a>,
which works but modifies your git state.
It doesn't fix the issues about running during a rebase, nor does it prevent hooks from trying to add things to the current commit. <sup class="footnote-reference" id="fr-lint-staged-1"><a href="#fn-lint-staged">3</a></sup></p>
<p>"Just don't write bad hooks" doesn't work if I'm working on someone else's project where I don't control the hook.</p>
</div></aside>
<p>Please just don't use <code>pre-commit</code> hooks. Use <code>pre-push</code> instead. <sup class="footnote-reference" id="fr-1-1"><a href="#fn-1">4</a></sup>
<code>pre-push</code> hooks nearly avoid all of these issues.</p>
<p>The only use case where I think pre-commit hooks are a good idea is for things that must <em>never</em> committed, that are worth interrupting a complicated rebase to prevent; namely: credentials.
Once credentials are committed they're quite difficult to get out, and even harder to be sure you haven't missed them.</p>
<h2 id="tips-for-writing-a-pre-push-hook">Tips for writing a <code>pre-push</code> hook<a class="zola-anchor" href="#tips-for-writing-a-pre-push-hook" aria-label="Anchor link for: tips-for-writing-a-pre-push-hook"></a>
</h2>
<ul>
<li>Run on the index, not the working tree, as described above. <sup class="footnote-reference" id="fr-3-1"><a href="#fn-3">5</a></sup></li>
<li>Only add checks that are fast and reliable. Checks that touch the network should never go in a hook. Checks that are slow and require an up-to-date build cache should never go in a hook. Checks that require credentials or a running local service should never go in a hook.</li>
<li>Be as quiet as possible. This hook is running buried inside a bunch of other commands, often without the developer knowing that the hook is going to run. Don't hide other important output behind a wall of progress messages.</li>
<li>Don't set the hook up automatically. Whatever tool you use that promises to make this reliable is wrong. There is not a way to do this reliably, and the number of times it's broken on me is more than I can count. Please just add docs for how to set it up manually, prominently featured in your CONTRIBUTING docs. (You do have contributing docs, right?)</li>
</ul>
<aside role=note class=note-container><div class=note-content>
<p>If the hook does fail, and the changes affect an older commit than the most recent,
you can use a combination of <a href="https://github.com/tummychow/git-absorb"><code>git-absorb</code></a>, <a href="https://git-revise.readthedocs.io/en/latest/man.html"><code>git-revise</code></a>,
and <a href="https://git-scm.com/docs/git-rebase#Documentation/git-rebase.txt---execcmd"><code>git rebase -X ours --exec</code></a>
to put them in the appropriate commit before pushing again.</p>
</div></aside>
<p>And don't write <code>pre-commit</code> hooks!</p>
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn-4">
<p>This is really quite slow on large enough repos, but there's not any real alternative. <code>git stash --keep-index</code> messes with git index state and also with your stashes. The only VCS that exposes a FUSE filesystem of its commits is <a href="https://github.com/facebook/sapling/blob/main/eden/fs/docs/Overview.md">Sapling</a>, which is poorly supported outside Facebook. The best you can do is give up on looking at the whole working copy and only write hooks that read a single file at a time. <a href="#fr-4-1">↩</a></p>
</li>
<li id="fn-2">
<p>By default this doesn't happen when running bare <code>rebase</code>, but the second you add <code>--interactive</code>, nearly anything you do runs a hook. Hooks will also run when you attempt to resolve merge conflicts. <a href="#fr-2-1">↩</a></p>
</li>
<li id="fn-lint-staged">
<p><code>lint-staged</code> does actually have a <code>--fail-on-changes</code> flag which aborts the commit, but that still modifies the working tree, and it's not on by default. <a href="#fr-lint-staged-1">↩</a></p>
</li>
<li id="fn-1">
<p>For more info about the difference, and a full list of possible hooks, see <a href="https://git-scm.com/docs/githooks"><code>man 5 githooks</code></a>. <a href="#fr-1-1">↩</a></p>
</li>
<li id="fn-3">
<p>Notice that I don't say "only run on changed files". That's because it's <a href="https://lore.kernel.org/git/CAHnEOG2o784dk+OpkGt-1qjRJb34=sFMJvh-JRJ3v+GNBxFywQ@mail.gmail.com/">not actually possible to reliably determine which branch the current commit is based on</a>, the best you can do is pick a random branch that looks likely. <a href="#fr-3-1">↩</a></p>
</li>
</ol>
</section>

  </div>
</article>
<hr>
  
  
  
  
  
  
  
  
    
    
  
  
    
    
  
<small>Discuss on
    <a href="https:&#x2F;&#x2F;hn.algolia.com&#x2F;?query=jyn.dev&#x2F;pre-commit-hooks-are-fundamentally-broken&#x2F;&amp;type=story">Hacker News</a>,
    
    <a href="https:&#x2F;&#x2F;lobste.rs&#x2F;stories&#x2F;url&#x2F;latest?url=https:&#x2F;&#x2F;jyn.dev&#x2F;pre-commit-hooks-are-fundamentally-broken&#x2F;">Lobste.rs</a>,
    
    <a href="https:&#x2F;&#x2F;tech.lgbt&#x2F;@jyn&#x2F;115787459350131224">Mastodon</a>, or
    <a href="https:&#x2F;&#x2F;bsky.app&#x2F;profile&#x2F;jyn.dev&#x2F;post&#x2F;3mavyvzwiqs2k">Bluesky</a></small>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <h2 class="footer-heading"><a href="https://jyn.dev">the website of jyn</a></h2>

        <ul class="contact-list">
            
            <li><a href="mailto:blog@jyn.dev">blog@jyn.dev</a></li>
            
            
            <li><a href="https://jyn.dev/assets/Resume.pdf">Resume</a>

        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <a type="application/atom+xml" href="/atom.xml"><img width="16px" class="icon" src="/assets/rss.png"> Subscribe via RSS</a>

        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jyn514"><span class="icon icon--github"><svg role="img" aria-label="github logo" viewBox="0 0 16 16" width="16px" height="16px"><title>github logo</title><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">jyn514</span></a>
          </li>
          

          

          

          
          <li>
            <a href="https://www.linkedin.com/in/jynelson514">
              <span class="icon icon--linkedin"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   version="1.1"
   role="img"
   aria-label="LinkedIn logo"
   width="16"
   height="16"
   viewBox="0 0 16 16"
   sodipodi:docname="icon-linkedin.svg"
   inkscape:version="0.92.1 r15371">
  <title>LinkedIn logo</title>
  <metadata>
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title>LinkedIn logo</dc:title>
        <cc:license
           rdf:resource="http://creativecommons.org/licenses/by-sa/4.0/" />
      </cc:Work>
      <cc:License
         rdf:about="http://creativecommons.org/licenses/by-sa/4.0/">
        <cc:permits
           rdf:resource="http://creativecommons.org/ns#Reproduction" />
        <cc:permits
           rdf:resource="http://creativecommons.org/ns#Distribution" />
        <cc:requires
           rdf:resource="http://creativecommons.org/ns#Notice" />
        <cc:requires
           rdf:resource="http://creativecommons.org/ns#Attribution" />
        <cc:permits
           rdf:resource="http://creativecommons.org/ns#DerivativeWorks" />
        <cc:requires
           rdf:resource="http://creativecommons.org/ns#ShareAlike" />
      </cc:License>
    </rdf:RDF>
  </metadata>
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="667"
     inkscape:window-height="429"
     showgrid="false"
     inkscape:zoom="4"
     inkscape:cx="1.6884357e-08"
     inkscape:cy="-8"
     inkscape:window-x="182"
     inkscape:window-y="326"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg2" />
  <image
     width="16"
     height="16"
     preserveAspectRatio="none"
     style="image-rendering:optimizeQuality"
     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAydJREFU eJztmz9MGlEcx7/vghY6gJbBQEmKJl3aREgYbKJGhk6dTIhjUybHykQ76tYwMbsUJ4emqUPbyQET GRxIpUnbgQTP5CJxwEMHz3/xdbiYatJ67+jJ78HdZ4T33n3f53jv3nvhGAAg/zEGDBYANgPGouhn ON8D+AZwlkchozGz8/dqYOwBdbauwnkLOE0qwGDBdZ0HAMbCwGBBAViaOgsdbEYBYxHqGGQwFlWo M1DjCaAOQI3rBfhECw4FBpCbjCM3NYqQ36x2eHKB4uYOihUVbeP8zkLeJQxvvnCrQkOBAZTnJ5CI BP/6fa15hPTyVk9KsBwCVp0HgEQkiPL8BIYCA46G6waWAnKT8Vs7f0UiEkRuMu5Epq5iLWBqVLgx O2VlwVLA1YQnQsjv67lh4PhjsNcmQksBhycXwo3ZKSsLlgKKmzvCjdkpKwvWAioqas0jy4ZqzSMU K6oTmbqKpYC2cY708tatEvp6IQT8kbC0Xr8xzg9PLrC0Xu/ZzgOCS+F+xvW7QdcLEF/mEZAeCyOb eoj48H3MjJkH17u6AVU3oOrHKDcOsPZz/7/mH6E5gL97IdbY268d179eNxkNojQ3LrQJA4CVqobF 9TpU3RAqfx3phkA2FcO311PCnQeAV6kYthemMft0xPb1pBKQTcXwfm68o7ohvw+fXqaQjIqLAyQS kB4Ld9z565Tnn9nakUojoORA5wHzl2DnYEYaAY+GA461ZedgRhoBThLy+4QnxL4UAJhzighSLoQ2 GgcoVnaw9mMfgHkyPftkBIvPHwsPlaTgY1Q6AStVDdkP32981jbOUapqKDda2F6YFjqnFH0cSjUE dnUDuc+//vm9qhsoVTWhtkQPc6USILKuvxoWTiGVgHKj1fVrSiWgbVifKqv6saPXlEqACJ3s+G5D KgFO310RJBPg7N0VQSoBFHgCqANQ4wmgDkCNJ4A6ADWeAOoA1HgCqANQ4wmgDkCN6wV4f5GhDkCN J4A6ADWK+S6tS+F8TzFfJHYrfEMBzvLg/IA6StfhvAWc5RUUMhpwmgC/XAXnTepcdw7nTfDLVeA0 iUJG+w1B+v3Clyog6wAAAABJRU5ErkJggg== "
     id="image10"
     x="0"
     y="0" />
</svg>
</span>
              <span class="username">jynelson514</span>
            </a>
          </li>
          

        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>use pre-push hooks instead</p>
      </div>
    </div>

  </div>

</footer>

</body>
</html>
